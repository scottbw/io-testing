import{r as t,c as e,h as n,H as o,g as r}from"./p-1e894e7c.js";import{f as l}from"./p-e17cc109.js";import{s as i,e as s}from"./p-58667357.js";import{c,a}from"./p-2094943b.js";var u=c((function(t){t.exports=function(){const t=(e,n)=>!0===e.matches(n)?e:t(e.parentElement,n),e="data-keyboard-selector",n="data-keyboard-skip";function o(e,{rowSelector:n,cellSelector:o}){const r=[...t(e,n).querySelectorAll(o)],l=r.indexOf(e),i=(s=e,()=>s);var s;return{selectFromAfter:i,selectFromBefore:i,next:()=>void 0!==r[l+1]?r[l+1]:null,previous:()=>void 0!==r[l-1]?r[l-1]:null}}function r(r,l){return null===r?null:r.hasAttribute(n)?function(t,e){const n=o(t,e);return{previous:n.previous,next:n.next}}(r,l):r.hasAttribute(e)||!r.matches(l.cellSelector)?function(n,r){const l=t(n,r.cellSelector),i=l.getAttribute(e),s=[...l.querySelectorAll(i)],c=s.length,a=n!==l;return{selectFromBefore:()=>a?n:s[0],selectFromAfter:()=>a?n:s[c-1],next(){const t=s.indexOf(n);return a&&t+1<c?s[t+1]:o(l,r).next()},previous(){const t=s.indexOf(n);return a&&t>0?s[t-1]:o(l,r).previous()}}}(r,l):o(r,l)}function l(t,e,{rowSelector:n="tr",cellSelector:o="th,td"}={}){const r=[...e.querySelectorAll(n)],l=[...t.querySelectorAll(o)],i=r.indexOf(t);return{previous:()=>void 0!==r[i-1]?r[i-1]:null,next:()=>void 0!==r[i+1]?r[i+1]:null,item:t=>void 0!==l[t]?l[t]:null}}function i(e,o,{rowSelector:r,cellSelector:i}={}){if(null===e)return null;const s=t(e,r);return s.hasAttribute(n)?function(t,e,n){const o=l(t,e,n);return{previous:o.previous,next:o.next}}(s,o,{rowSelector:r,cellSelector:i}):l(e,o,{rowSelector:r,cellSelector:i})}return function(e,{rowSelector:n="tr",cellSelector:o="td,th"}={}){let l=null;const s=function(e,n){const{rowSelector:o,cellSelector:l}=n;return{moveRight(t){const e=r(t,n);let o=r(e.next(),n);for(;null!==o&&void 0===o.selectFromBefore;)o=r(o.next(),n);return null!==o?o.selectFromBefore():t},moveLeft(t){const e=r(t,n);let o=r(e.previous(),n);for(;null!==o&&void 0===o.selectFromAfter;)o=r(o.previous(),n);return null!==o?o.selectFromAfter():t},moveUp(s){const c=t(s,o),a=[...c.querySelectorAll(l)],u=i(c,e,n);let d=i(u.previous(),e,n);for(;null!==d&&void 0===d.item;)d=i(d.previous(),e,n);if(null===d)return s;let h=a.indexOf(t(s,l)),p=r(d.item(h),n);for(;null===p||void 0===p.selectFromBefore&&h>0;)h--,p=r(d.item(h),n);return p.selectFromBefore()},moveDown(s){const c=t(s,o),a=[...c.querySelectorAll(l)],u=i(c,e,n);let d=i(u.next(),e,n);for(;null!==d&&void 0===d.item;)d=i(d.next(),e,n);if(null===d)return s;let h=a.indexOf(t(s,l)),p=r(d.item(h),n);for(;null===p||void 0===p.selectFromBefore&&h>0;)h--,p=r(d.item(h),n);return p.selectFromBefore()}}}(e,{rowSelector:n,cellSelector:o});e.addEventListener("keydown",({target:t,keyCode:e})=>{let n=null;37===e?n=s.moveLeft(t):38===e?n=s.moveUp(t):39===e?n=s.moveRight(t):40===e&&(n=s.moveDown(t)),null!==n&&(n.focus(),null!==l&&l.setAttribute("tabindex","-1"),n.setAttribute("tabindex","0"),l=n)})}}()}));const d=class{constructor(n){t(this,n),this.globalCountrySelect=e(this,"globalCountrySelect",7),this.shouldUpdate=!1,this.trigger="Country",this.dataSrc="data/air.json",this.sortBy="Index",this.sort="asc",this.columns="Country,Index"}load(){return fetch(this.dataSrc).then(t=>t.json()).then(t=>{this.data=t})}update(){let t=this.globalCountrySelect,e="asc"===this.sort,n=i(this.pagewrapElement).append("table");n.attr("aria-label","Country list. Click country names to view details. Scroll to view more."),n.attr("role","grid");let o=this.columns.split(",").map(t=>t.trim()),r=n.append("thead").append("tr").attr("role","row").selectAll("th").data(o).enter().append("th").attr("scope","col").attr("tabindex","0").attr("role","columnheader").attr("aria-sort","none").text((function(t){return t})).on("keydown",(function(){"Space"!==s.code&&"Enter"!==s.code||this.click()})).on("click",(function(t){r.attr("class","header"),r.attr("aria-sort","none"),e?(a.sort("Country"===t?(e,n)=>0-(e[t]>n[t]?-1:1):(e,n)=>e[t]-n[t]),e=!1,this.className="aes",this.setAttribute("aria-sort","ascending")):(a.sort("Country"===t?(e,n)=>0-(e[t]>n[t]?1:-1):(e,n)=>n[t]-e[t]),e=!0,this.className="des",this.setAttribute("aria-sort","descending"))})),c=this.trigger,a=n.append("tbody").selectAll("tr").data(this.data).enter().append("tr"),d=a.selectAll("td").data((function(t){return o.map((function(e){return{value:t[e],name:e}}))})).enter().append("td");d.attr("tabindex","-1"),d.attr("data-th",(function(t){return t.name})),d.each((function(e){e.name===c?(i(this).attr("data-keyboard-selector","a"),i(this).append("a").attr("tabindex","-1").attr("href","#").text((function(t){return l(t.value)})).on("keydown",(function(e){s.preventDefault(),"Space"!==s.code&&"Enter"!==s.code||t.emit(e.value)})).on("click, mousedown",(function(e){return s.preventDefault(),t.emit(e.value),!1}))):i(this).text((function(t){return l(t.value)}))})),a.sort("asc"==this.sort?"Country"===this.sortBy?(t,e)=>0-(t[this.sortBy]>e[this.sortBy]?-1:1):(t,e)=>t[this.sortBy]-e[this.sortBy]:"Country"===this.sortBy?(t,e)=>0-(t[this.sortBy]>e[this.sortBy]?1:-1):(t,e)=>e[this.sortBy]-t[this.sortBy]),u(this.pagewrapElement.getElementsByTagName("table")[0],{rowSelector:"tr",cellSelector:"th,td"})}componentDidLoad(){this.pagewrapElement=this.element.shadowRoot.getElementById("page-wrap"),this.shouldUpdate=!0}componentWillUpdate(){return this.load()}componentDidUpdate(){this.update()}render(){return n(o,null,n("div",{id:"page-wrap",tabindex:"0"}),n("slot",null))}get element(){return r(this)}};d.style=':host{display:block;width:100%;margin:0;padding:0;font-size:0.8rem}#page-wrap{width:100%}p{margin:20px 0}a{color:black;text-decoration-color:lightgrey}tr:hover td{background-color:#C1D3E2}table{width:100%;border-collapse:collapse}tr:nth-of-type(odd){background:#E6E8E6}th{background:#5B85AA;color:white;font-weight:bold;cursor:s-resize;background-repeat:no-repeat;background-position:3% center;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}td,th{padding:6px;border:2px solid white;text-align:left}th.des:after{content:"↓"}th.aes:after{content:"↑"}@media only screen and (min-device-width: 320px) and (max-device-width: 480px){table{width:250px;height:300px}}@media only screen and (min-device-width: 768px) and (max-device-width: 1024px){body{width:495px}}';export{d as oi_country_list}