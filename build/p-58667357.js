var n="http://www.w3.org/1999/xhtml";const t={svg:"http://www.w3.org/2000/svg",xhtml:n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function r(n){var r=n+="",i=r.indexOf(":");return i>=0&&"xmlns"!==(r=n.slice(0,i))&&(n=n.slice(i+1)),t.hasOwnProperty(r)?{space:t[r],local:n}:n}function i(t){return function(){var r=this.ownerDocument,i=this.namespaceURI;return i===n&&r.documentElement.namespaceURI===n?r.createElement(t):r.createElementNS(i,t)}}function u(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function o(n){var t=r(n);return(t.local?u:i)(t)}function e(){}function f(n){return null==n?e:function(){return this.querySelector(n)}}function s(){return[]}function c(n){return new Array(n.length)}function h(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function a(n,t,r,i,u,o){for(var e,f=0,s=t.length,c=o.length;f<c;++f)(e=t[f])?(e.__data__=o[f],i[f]=e):r[f]=new h(n,o[f]);for(;f<s;++f)(e=t[f])&&(u[f]=e)}function l(n,t,r,i,u,o,e){var f,s,c,a={},l=t.length,v=o.length,w=new Array(l);for(f=0;f<l;++f)(s=t[f])&&(w[f]=c="$"+e.call(s,s.__data__,f,t),c in a?u[f]=s:a[c]=s);for(f=0;f<v;++f)(s=a[c="$"+e.call(n,o[f],f,o)])?(i[f]=s,s.__data__=o[f],a[c]=null):r[f]=new h(n,o[f]);for(f=0;f<l;++f)(s=t[f])&&a[w[f]]===s&&(u[f]=s)}function v(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function w(n){return function(){this.removeAttribute(n)}}function y(n){return function(){this.removeAttributeNS(n.space,n.local)}}function p(n,t){return function(){this.setAttribute(n,t)}}function d(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function m(n,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(n):this.setAttribute(n,r)}}function A(n,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function x(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function g(n){return function(){this.style.removeProperty(n)}}function _(n,t,r){return function(){this.style.setProperty(n,t,r)}}function k(n,t,r){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,r)}}function q(n,t){return n.style.getPropertyValue(t)||x(n).getComputedStyle(n,null).getPropertyValue(t)}function M(n){return function(){delete this[n]}}function N(n,t){return function(){this[n]=t}}function S(n,t){return function(){var r=t.apply(this,arguments);null==r?delete this[n]:this[n]=r}}function $(n){return n.trim().split(/^|\s+/)}function j(n){return n.classList||new z(n)}function z(n){this._node=n,this._names=$(n.getAttribute("class")||"")}function B(n,t){for(var r=j(n),i=-1,u=t.length;++i<u;)r.add(t[i])}function C(n,t){for(var r=j(n),i=-1,u=t.length;++i<u;)r.remove(t[i])}function E(n){return function(){B(this,n)}}function L(n){return function(){C(this,n)}}function X(n,t){return function(){(t.apply(this,arguments)?B:C)(this,n)}}function b(){this.textContent=""}function D(n){return function(){this.textContent=n}}function F(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}function G(){this.innerHTML=""}function H(n){return function(){this.innerHTML=n}}function I(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}function J(){this.nextSibling&&this.parentNode.appendChild(this)}function K(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function O(){return null}function P(){var n=this.parentNode;n&&n.removeChild(this)}function Q(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function R(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}h.prototype={constructor:h,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}},z.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var T={},U=null;function V(n,t,r){return n=W(n,t,r),function(t){var r=t.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||n.call(this,t)}}function W(n,t,r){return function(i){var u=U;U=i;try{n.call(this,this.__data__,t,r)}finally{U=u}}}function Y(n){return n.trim().split(/^|\s+/).map((function(n){var t="",r=n.indexOf(".");return r>=0&&(t=n.slice(r+1),n=n.slice(0,r)),{type:n,name:t}}))}function Z(n){return function(){var t=this.__on;if(t){for(var r,i=0,u=-1,o=t.length;i<o;++i)r=t[i],n.type&&r.type!==n.type||r.name!==n.name?t[++u]=r:this.removeEventListener(r.type,r.listener,r.capture);++u?t.length=u:delete this.__on}}}function nn(n,t,r){var i=T.hasOwnProperty(n.type)?V:W;return function(u,o,e){var f,s=this.__on,c=i(t,o,e);if(s)for(var h=0,a=s.length;h<a;++h)if((f=s[h]).type===n.type&&f.name===n.name)return this.removeEventListener(f.type,f.listener,f.capture),this.addEventListener(f.type,f.listener=c,f.capture=r),void(f.value=t);this.addEventListener(n.type,c,r),f={type:n.type,name:n.name,value:t,listener:c,capture:r},s?s.push(f):this.__on=[f]}}function tn(n,t,r){var i=x(n),u=i.CustomEvent;"function"==typeof u?u=new u(t,r):(u=i.document.createEvent("Event"),r?(u.initEvent(t,r.bubbles,r.cancelable),u.detail=r.detail):u.initEvent(t,!1,!1)),n.dispatchEvent(u)}function rn(n,t){return function(){return tn(this,n,t)}}function un(n,t){return function(){return tn(this,n,t.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(T={mouseenter:"mouseover",mouseleave:"mouseout"}));var on=[null];function en(n,t){this._groups=n,this._parents=t}function fn(n){return"string"==typeof n?new en([[document.querySelector(n)]],[document.documentElement]):new en([[n]],on)}en.prototype=function(){return new en([[document.documentElement]],on)}.prototype={constructor:en,select:function(n){"function"!=typeof n&&(n=f(n));for(var t=this._groups,r=t.length,i=new Array(r),u=0;u<r;++u)for(var o,e,s=t[u],c=s.length,h=i[u]=new Array(c),a=0;a<c;++a)(o=s[a])&&(e=n.call(o,o.__data__,a,s))&&("__data__"in o&&(e.__data__=o.__data__),h[a]=e);return new en(i,this._parents)},selectAll:function(n){"function"!=typeof n&&(n=function(n){return null==n?s:function(){return this.querySelectorAll(n)}}(n));for(var t=this._groups,r=t.length,i=[],u=[],o=0;o<r;++o)for(var e,f=t[o],c=f.length,h=0;h<c;++h)(e=f[h])&&(i.push(n.call(e,e.__data__,h,f)),u.push(e));return new en(i,u)},filter:function(n){"function"!=typeof n&&(n=function(n){return function(){return this.matches(n)}}(n));for(var t=this._groups,r=t.length,i=new Array(r),u=0;u<r;++u)for(var o,e=t[u],f=e.length,s=i[u]=[],c=0;c<f;++c)(o=e[c])&&n.call(o,o.__data__,c,e)&&s.push(o);return new en(i,this._parents)},data:function(n,t){if(!n)return p=new Array(this.size()),h=-1,this.each((function(n){p[++h]=n})),p;var r,i=t?l:a,u=this._parents,o=this._groups;"function"!=typeof n&&(r=n,n=function(){return r});for(var e=o.length,f=new Array(e),s=new Array(e),c=new Array(e),h=0;h<e;++h){var v=u[h],w=o[h],y=w.length,p=n.call(v,v&&v.__data__,h,u),d=p.length,m=s[h]=new Array(d),A=f[h]=new Array(d);i(v,w,m,A,c[h]=new Array(y),p,t);for(var x,g,_=0,k=0;_<d;++_)if(x=m[_]){for(_>=k&&(k=_+1);!(g=A[k])&&++k<d;);x._next=g||null}}return(f=new en(f,u))._enter=s,f._exit=c,f},enter:function(){return new en(this._enter||this._groups.map(c),this._parents)},exit:function(){return new en(this._exit||this._groups.map(c),this._parents)},join:function(n,t,r){var i=this.enter(),u=this,o=this.exit();return i="function"==typeof n?n(i):i.append(n+""),null!=t&&(u=t(u)),null==r?o.remove():r(o),i&&u?i.merge(u).order():u},merge:function(n){for(var t=this._groups,r=n._groups,i=t.length,u=Math.min(i,r.length),o=new Array(i),e=0;e<u;++e)for(var f,s=t[e],c=r[e],h=s.length,a=o[e]=new Array(h),l=0;l<h;++l)(f=s[l]||c[l])&&(a[l]=f);for(;e<i;++e)o[e]=t[e];return new en(o,this._parents)},order:function(){for(var n=this._groups,t=-1,r=n.length;++t<r;)for(var i,u=n[t],o=u.length-1,e=u[o];--o>=0;)(i=u[o])&&(e&&4^i.compareDocumentPosition(e)&&e.parentNode.insertBefore(i,e),e=i);return this},sort:function(n){function t(t,r){return t&&r?n(t.__data__,r.__data__):!t-!r}n||(n=v);for(var r=this._groups,i=r.length,u=new Array(i),o=0;o<i;++o){for(var e,f=r[o],s=f.length,c=u[o]=new Array(s),h=0;h<s;++h)(e=f[h])&&(c[h]=e);c.sort(t)}return new en(u,this._parents).order()},call:function(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function(){var n=new Array(this.size()),t=-1;return this.each((function(){n[++t]=this})),n},node:function(){for(var n=this._groups,t=0,r=n.length;t<r;++t)for(var i=n[t],u=0,o=i.length;u<o;++u){var e=i[u];if(e)return e}return null},size:function(){var n=0;return this.each((function(){++n})),n},empty:function(){return!this.node()},each:function(n){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var u,o=t[r],e=0,f=o.length;e<f;++e)(u=o[e])&&n.call(u,u.__data__,e,o);return this},attr:function(n,t){var i=r(n);if(arguments.length<2){var u=this.node();return i.local?u.getAttributeNS(i.space,i.local):u.getAttribute(i)}return this.each((null==t?i.local?y:w:"function"==typeof t?i.local?A:m:i.local?d:p)(i,t))},style:function(n,t,r){return arguments.length>1?this.each((null==t?g:"function"==typeof t?k:_)(n,t,null==r?"":r)):q(this.node(),n)},property:function(n,t){return arguments.length>1?this.each((null==t?M:"function"==typeof t?S:N)(n,t)):this.node()[n]},classed:function(n,t){var r=$(n+"");if(arguments.length<2){for(var i=j(this.node()),u=-1,o=r.length;++u<o;)if(!i.contains(r[u]))return!1;return!0}return this.each(("function"==typeof t?X:t?E:L)(r,t))},text:function(n){return arguments.length?this.each(null==n?b:("function"==typeof n?F:D)(n)):this.node().textContent},html:function(n){return arguments.length?this.each(null==n?G:("function"==typeof n?I:H)(n)):this.node().innerHTML},raise:function(){return this.each(J)},lower:function(){return this.each(K)},append:function(n){var t="function"==typeof n?n:o(n);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(n,t){var r="function"==typeof n?n:o(n),i=null==t?O:"function"==typeof t?t:f(t);return this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(P)},clone:function(n){return this.select(n?R:Q)},datum:function(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function(n,t,r){var i,u,o=Y(n+""),e=o.length;if(!(arguments.length<2)){for(f=t?nn:Z,null==r&&(r=!1),i=0;i<e;++i)this.each(f(o[i],t,r));return this}var f=this.node().__on;if(f)for(var s,c=0,h=f.length;c<h;++c)for(i=0,s=f[c];i<e;++i)if((u=o[i]).type===s.type&&u.name===s.name)return s.value},dispatch:function(n,t){return this.each(("function"==typeof t?un:rn)(n,t))}};export{U as e,fn as s}